---
http_interactions:
  - request:
      method: post
      uri: https://api.anthropic.com/v1/messages
      body:
        encoding: UTF-8
        string:
          '{"model":"claude-sonnet-4-20250514","max_tokens":4096,"messages":[{"role":"user","content":[{"type":"text","text":"return
          the content of the document exactly"},{"type":"document","source":{"data":"abc\n","type":"text","media_type":"text/plain"}}]}]}'
      headers:
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
        User-Agent:
          - Ruby
        Host:
          - api.anthropic.com
        Anthropic-Version:
          - "2023-06-01"
        Content-Type:
          - application/json
        X-Api-Key:
          - "<BEARER_TOKEN>"
        Anthropic-Beta:
          - code-execution-2025-05-22,files-api-2025-04-14
    response:
      status:
        code: 200
        message: OK
      headers:
        Date:
          - Thu, 07 Aug 2025 06:42:10 GMT
        Content-Type:
          - application/json
        Transfer-Encoding:
          - chunked
        Connection:
          - keep-alive
        Anthropic-Ratelimit-Input-Tokens-Limit:
          - "450000"
        Anthropic-Ratelimit-Input-Tokens-Remaining:
          - "450000"
        Anthropic-Ratelimit-Input-Tokens-Reset:
          - "2025-08-07T06:42:10Z"
        Anthropic-Ratelimit-Output-Tokens-Limit:
          - "90000"
        Anthropic-Ratelimit-Output-Tokens-Remaining:
          - "90000"
        Anthropic-Ratelimit-Output-Tokens-Reset:
          - "2025-08-07T06:42:10Z"
        Anthropic-Ratelimit-Requests-Limit:
          - "1000"
        Anthropic-Ratelimit-Requests-Remaining:
          - "999"
        Anthropic-Ratelimit-Requests-Reset:
          - "2025-08-07T06:42:09Z"
        Anthropic-Ratelimit-Tokens-Limit:
          - "540000"
        Anthropic-Ratelimit-Tokens-Remaining:
          - "540000"
        Anthropic-Ratelimit-Tokens-Reset:
          - "2025-08-07T06:42:10Z"
        Request-Id:
          - req_011CRstpEw8a5ka2WWn4tU5G
        Strict-Transport-Security:
          - max-age=31536000; includeSubDomains; preload
        Anthropic-Organization-Id:
          - 0fcc9bdc-70ee-4701-a64f-cdc9e356dfa8
        Via:
          - 1.1 google
        Cf-Cache-Status:
          - DYNAMIC
        X-Robots-Tag:
          - none
        Server:
          - cloudflare
        Cf-Ray:
          - 96b4cad94a6840b9-SIN
      body:
        encoding: ASCII-8BIT
        string: '{"id":"msg_01MthAWCPBxCqc6pvfFKnoAf","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"abc"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":53,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":4,"service_tier":"standard"}}'
    recorded_at: Thu, 07 Aug 2025 06:42:10 GMT
recorded_with: VCR 6.3.1
